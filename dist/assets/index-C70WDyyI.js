const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-BP1X0yi7.js","assets/react-vendor-Dt--M4EP.js","assets/Card-BJrnA0Es.js","assets/icons-9q4Ww-N4.js","assets/Login-BANhLSF9.css","assets/Dashboard-DNW78jQc.js","assets/useScrollReveal-BC-245pq.js","assets/Navbar-ClqoYrFh.js","assets/ThemeToggle-CZrI65VG.js","assets/Skeleton-VzpXPS06.js","assets/helpers-CQG1Y5Ia.js","assets/Dashboard-C5HGiccS.css","assets/Audits-CUeZK4EQ.js","assets/Audits-BbU20BUV.css","assets/Pentest-DoQa8r8b.js","assets/input.validator-7PKJK-co.js","assets/Pentest-D7DQ-GHs.css","assets/Feedback-WR2_hYOx.js","assets/Feedback-CnsUvJ1-.css","assets/Landing-DBVGYj6X.js","assets/Landing-DJDwjB5g.css","assets/About-CQrb21Q3.js","assets/About-C28b49NG.css","assets/Team-CN9HtHNx.js","assets/Team-BTxp9IQA.css","assets/Developer-3zofi24G.js","assets/Developer-DS8aT0qB.css","assets/Community-DNpro6Oy.js","assets/Community-Cjn7me4s.css","assets/StudentDashboard-Cx4yl8Sf.js","assets/StudentDashboard-BwmZF93V.css","assets/Careers-CiFSj26H.js","assets/Careers-CouARebu.css","assets/Methodology-A-gOCVG3.js","assets/Methodology-D_6ZWHvx.css","assets/CaseStudies-QbSoogVG.js","assets/CaseStudies-sGTip6yG.css","assets/Blog-Umaiwv8j.js","assets/Blog-CNXiblwI.css"])))=>i.map(i=>d[i]);
import{r as e,a as t,R as o,B as r,b as s,c as n,N as i}from"./react-vendor-Dt--M4EP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a={exports:{}},l={},c=e,u=Symbol.for("react.element"),d=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,m=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(e,t,o){var r,s={},n=null,i=null;for(r in void 0!==o&&(n=""+o),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)h.call(t,r)&&!p.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:u,type:e,key:n,ref:i,props:s,_owner:m.current}}l.Fragment=d,l.jsx=g,l.jsxs=g,a.exports=l;var _=a.exports,f={},y=t;f.createRoot=y.createRoot,f.hydrateRoot=y.hydrateRoot;const x="hsociety_session";const j=new class{constructor(){this.storage="undefined"!=typeof window?window.sessionStorage:null}setSession(e){if(!this.storage)return!1;try{const t={...e,timestamp:e.timestamp||Date.now(),expiresAt:Date.now()+864e5};return this.storage.setItem(x,JSON.stringify(t)),!0}catch(t){return console.error("Failed to set session:",t),!1}}getSession(){if(!this.storage)return null;try{const e=this.storage.getItem(x);return e?JSON.parse(e):null}catch(e){return console.error("Failed to get session:",e),null}}updateSession(e){const t=this.getSession();if(!t)return!1;const o={...t,...e,timestamp:Date.now()};return this.setSession(o)}clearSession(){if(this.storage)try{this.storage.removeItem(x),this.storage.removeItem("logout-reason")}catch(e){console.error("Failed to clear session:",e)}}isSessionValid(){const e=this.getSession();return!!e&&(!(!e.user||!e.token)&&(!(e.expiresAt&&Date.now()>e.expiresAt)||(console.log("Session expired"),this.clearSession(),!1)))}getToken(){const e=this.getSession();return e?e.token:null}getUser(){const e=this.getSession();return e?e.user:null}isAuthenticated(){return this.isSessionValid()}getSessionAge(){const e=this.getSession();return e&&e.timestamp?Date.now()-e.timestamp:null}getTimeUntilExpiry(){const e=this.getSession();if(!e||!e.expiresAt)return null;const t=e.expiresAt-Date.now();return t>0?t:0}},w=e.createContext(void 0),E=({children:t})=>{const[o,r]=e.useState(null),[s,n]=e.useState(null),[i,a]=e.useState(!1),[l,c]=e.useState(!0),[u,d]=e.useState(null);e.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const e=j.getSession();if(e&&e.token&&e.user){j.isSessionValid()?(r(e.user),n(e.token),a(!0),m()):await p(!1)}}catch(e){console.error("Auth initialization error:",e),await p(!1)}finally{c(!1)}},m=()=>{u&&u();const e=(({timeout:e=9e5,onTimeout:t,onWarning:o=null,warningTime:r=12e4,events:s=["mousedown","keydown","scroll","touchstart","click","mousemove"]}={})=>{if(!t||"function"!=typeof t)return console.error("Auto logout requires onTimeout callback"),()=>{};let n=null,i=null,a=!1;const l=()=>{a=!1,n&&clearTimeout(n),i&&clearTimeout(i),o&&r>0&&r<e&&(i=setTimeout(()=>{a||(a=!0,o({remainingTime:e-r,totalTimeout:e}))},e-r)),n=setTimeout(()=>{console.log("Auto logout triggered due to inactivity"),t()},e)},c=()=>{l()};return s.forEach(e=>{window.addEventListener(e,c,{passive:!0})}),l(),()=>{s.forEach(e=>{window.removeEventListener(e,c)}),n&&clearTimeout(n),i&&clearTimeout(i),console.log("Auto logout monitor cleaned up")}})({timeout:9e5,onTimeout:async()=>{console.log("Session timed out due to inactivity"),await p(!0)},events:["mousedown","keydown","scroll","touchstart","click"]});d(()=>e)},p=async(e=!1)=>{try{u&&(u(),d(null)),j.clearSession(),r(null),n(null),a(!1),e&&sessionStorage.setItem("logout-reason","inactivity"),"undefined"!=typeof window&&(window.location.href="/login")}catch(t){console.error("Logout error:",t),j.clearSession(),r(null),n(null),a(!1)}},g={user:o,token:s,isAuthenticated:i,isLoading:l,login:async(e,t)=>{try{if(!e||!t)throw new Error("Invalid login credentials");return j.setSession({user:e,token:t,timestamp:Date.now()}),r(e),n(t),a(!0),m(),{success:!0}}catch(o){return console.error("Login error:",o),{success:!1,error:o.message}}},logout:p,updateUser:e=>{if(!i)return;const t={...o,...e};j.updateSession({user:t}),r(t)},refreshToken:async()=>{try{const e=s;return j.updateSession({token:e}),n(e),{success:!0,token:e}}catch(e){return console.error("Token refresh error:",e),await p(),{success:!1,error:e.message}}},hasRole:e=>!(!o||!o.role)&&o.role===e,hasAnyRole:e=>!(!o||!o.role)&&e.includes(o.role)};return _.jsx(w.Provider,{value:g,children:t})},v=()=>{const t=e.useContext(w);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t},S=e.createContext(void 0),A=({children:t})=>{const[o,r]=e.useState(()=>{if("undefined"!=typeof window){return localStorage.getItem("hsociety-theme")||"light"}return"light"});e.useEffect(()=>{const e=document.documentElement;e.removeAttribute("data-theme"),e.setAttribute("data-theme",o),localStorage.setItem("hsociety-theme",o);const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content","dark"===o?"#000000":"#ffffff"),s(o)},[o]);const s=e=>{const t=document.querySelector('link[rel="icon"]'),o=document.querySelector('link[rel="apple-touch-icon"]'),r="dark"===e?"/FAVICON_HSOCIETY_WHITE/favicon.ico":"/FAVICON_HSOCIETY_BLACK/favicon.ico",s="dark"===e?"/FAVICON_HSOCIETY_WHITE/apple-touch-icon.png":"/FAVICON_HSOCIETY_BLACK/apple-touch-icon.png";t&&(t.href=r),o&&(o.href=s)},n={theme:o,toggleTheme:()=>{r(e=>"light"===e?"dark":"light")},setTheme:e=>{"light"!==e&&"dark"!==e||r(e)},isDark:"dark"===o,isLight:"light"===o};return _.jsx(S.Provider,{value:n,children:t})},T=()=>{const t=e.useContext(S);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t},k={},I=function(e,t,o){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in k)return;k[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,o&&s.setAttribute("nonce",o),document.head.appendChild(s),t?new Promise((t,o)=>{s.addEventListener("load",t),s.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},L=({size:e="medium",clickable:t=!1,className:o="",onClick:r=null})=>{const{theme:s}=T(),n="dark"===s?"/hsociety-logo-white.png":"/hsociety-logo-black.png",i={...{small:{height:"32px",width:"auto"},medium:{height:"48px",width:"auto"},large:{height:"64px",width:"auto"},xlarge:{height:"96px",width:"auto"}}[e],display:"block",objectFit:"contain",transition:"all 0.3s ease",cursor:t||r?"pointer":"default"};return _.jsx("div",{className:`logo-container ${o}`,onClick:()=>{r?r():t&&(window.location.href="/")},style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:n,alt:"HSOCIETY Logo",style:i,className:"logo-image",onError:e=>{console.error("Logo failed to load:",n),e.target.style.display="none"}})})},O=({message:e="Initializing secure workspace..."})=>_.jsx("div",{className:"page-loader",role:"status","aria-live":"polite",children:_.jsxs("div",{className:"page-loader-inner",children:[_.jsx(L,{size:"large",className:"page-loader-logo"}),_.jsx("div",{className:"page-loader-bar"}),_.jsx("p",{className:"page-loader-text",children:e})]})}),b=o.lazy(()=>I(()=>import("./Login-BP1X0yi7.js"),__vite__mapDeps([0,1,2,3,4]))),P=o.lazy(()=>I(()=>import("./Dashboard-DNW78jQc.js"),__vite__mapDeps([5,1,2,3,6,7,8,9,10,11]))),R=o.lazy(()=>I(()=>import("./Audits-CUeZK4EQ.js"),__vite__mapDeps([12,1,2,3,7,8,6,9,10,13]))),D=o.lazy(()=>I(()=>import("./Pentest-DoQa8r8b.js"),__vite__mapDeps([14,1,2,3,7,8,6,9,15,16]))),C=o.lazy(()=>I(()=>import("./Feedback-WR2_hYOx.js"),__vite__mapDeps([17,1,2,3,7,8,15,6,18]))),N=o.lazy(()=>I(()=>import("./Landing-DBVGYj6X.js"),__vite__mapDeps([19,1,6,2,3,8,20]))),V=o.lazy(()=>I(()=>import("./About-CQrb21Q3.js"),__vite__mapDeps([21,1,2,3,6,22]))),z=o.lazy(()=>I(()=>import("./Team-CN9HtHNx.js"),__vite__mapDeps([23,1,2,3,6,24]))),F=o.lazy(()=>I(()=>import("./Developer-3zofi24G.js"),__vite__mapDeps([25,1,2,3,6,26]))),q=o.lazy(()=>I(()=>import("./Community-DNpro6Oy.js"),__vite__mapDeps([27,1,2,3,6,7,8,28]))),B=o.lazy(()=>I(()=>import("./StudentDashboard-Cx4yl8Sf.js"),__vite__mapDeps([29,1,2,3,6,7,8,9,30]))),H=o.lazy(()=>I(()=>import("./Careers-CiFSj26H.js"),__vite__mapDeps([31,1,2,3,7,8,6,32]))),U=o.lazy(()=>I(()=>import("./Methodology-A-gOCVG3.js"),__vite__mapDeps([33,1,2,3,7,8,6,34]))),Y=o.lazy(()=>I(()=>import("./CaseStudies-QbSoogVG.js"),__vite__mapDeps([35,1,2,3,7,8,6,36]))),$=o.lazy(()=>I(()=>import("./Blog-Umaiwv8j.js"),__vite__mapDeps([37,1,2,3,7,8,6,38]))),W=({children:e,allowedRoles:t})=>{const{isAuthenticated:o,isLoading:r,user:s}=v(),n="client"===(null==s?void 0:s.role)?"corporate":null==s?void 0:s.role;return r?_.jsx(O,{message:"Preparing your workspace..."}):o?n&&t.includes(n)?e:_.jsx(i,{to:"student"===n?"/student-dashboard":"/dashboard",replace:!0}):_.jsx(i,{to:"/login",replace:!0})},M=({children:e})=>{const{isAuthenticated:t,isLoading:o}=v();return o?_.jsx(O,{message:"Preparing your workspace..."}):t?_.jsx(i,{to:"/dashboard",replace:!0}):e},K=()=>_.jsx(O,{message:"Loading secure interface..."}),J=()=>_.jsx(r,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:_.jsx(o.Suspense,{fallback:_.jsx(K,{}),children:_.jsxs(s,{children:[_.jsx(n,{path:"/",element:_.jsx(N,{})}),_.jsx(n,{path:"/login",element:_.jsx(M,{children:_.jsx(b,{})})}),_.jsx(n,{path:"/feedback",element:_.jsx(C,{})}),_.jsx(n,{path:"/about",element:_.jsx(V,{})}),_.jsx(n,{path:"/team",element:_.jsx(z,{})}),_.jsx(n,{path:"/developer",element:_.jsx(F,{})}),_.jsx(n,{path:"/community",element:_.jsx(q,{})}),_.jsx(n,{path:"/careers",element:_.jsx(H,{})}),_.jsx(n,{path:"/methodology",element:_.jsx(U,{})}),_.jsx(n,{path:"/case-studies",element:_.jsx(Y,{})}),_.jsx(n,{path:"/blog",element:_.jsx($,{})}),_.jsx(n,{path:"/student-dashboard",element:_.jsx(W,{allowedRoles:["student"],children:_.jsx(B,{})})}),_.jsx(n,{path:"/dashboard",element:_.jsx(W,{allowedRoles:["corporate"],children:_.jsx(P,{})})}),_.jsx(n,{path:"/audits",element:_.jsx(W,{allowedRoles:["corporate"],children:_.jsx(R,{})})}),_.jsx(n,{path:"/pentest",element:_.jsx(W,{allowedRoles:["corporate"],children:_.jsx(D,{})})}),_.jsx(n,{path:"*",element:_.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[_.jsx("h1",{children:"404"}),_.jsx("p",{children:"Page not found"}),_.jsx("a",{href:"/",children:"Go home"})]})})]})})}),G=()=>_.jsx(A,{children:_.jsx(E,{children:_.jsx(J,{})})}),Q=document.getElementById("root");if(!Q)throw new Error('Failed to find the root element. Make sure index.html has a div with id="root"');f.createRoot(Q).render(_.jsx(o.StrictMode,{children:_.jsx(G,{})}));export{L,T as a,_ as j,v as u};
