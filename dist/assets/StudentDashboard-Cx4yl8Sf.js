import{j as s}from"./index-C70WDyyI.js";import{r as e}from"./react-vendor-Dt--M4EP.js";import{B as a,V as t,C as l,i,w as r,q as n,a as d,m as c,j as o,W as h,b as m,d as j}from"./Card-BJrnA0Es.js";import{u}from"./useScrollReveal-BC-245pq.js";import{N as x}from"./Navbar-ClqoYrFh.js";import{S as p}from"./Skeleton-VzpXPS06.js";import"./icons-9q4Ww-N4.js";import"./ThemeToggle-CZrI65VG.js";const g=()=>{u();const[g,v]=e.useState(!0),[N,b]=e.useState({learningPath:[],challenges:[],mentors:[],snapshot:[]}),[f,y]=e.useState("");e.useEffect(()=>{(async()=>{v(!0);try{const s=await(async()=>{try{return await new Promise(s=>setTimeout(s,700)),{success:!0,data:{learningPath:[{id:"net",title:"Networking Basics",status:"done",progress:100},{id:"linux",title:"Linux Essentials",status:"in-progress",progress:65},{id:"web",title:"Web Security",status:"next",progress:0}],challenges:[{id:"sql",title:"SQL Injection 101",level:"Easy",time:"35 min",icon:"target"},{id:"jwt",title:"JWT Misconfig",level:"Medium",time:"50 min",icon:"shield"},{id:"phish",title:"Phishing Analysis",level:"Easy",time:"25 min",icon:"flag"}],mentors:[{id:"nia",name:"Nia T.",focus:"Blue Team",status:"Available"},{id:"sam",name:"Sam K.",focus:"Web Pentest",status:"Busy"}],snapshot:[{id:"lessons",label:"Lessons completed",value:"18",icon:"check"},{id:"time",label:"Time spent",value:"12h",icon:"clock"},{id:"labs",label:"Labs passed",value:"7",icon:"lock"},{id:"ctfs",label:"CTFs completed",value:"3",icon:"code"}]}}}catch(f){return console.error("Failed to fetch student overview:",f),{success:!1,error:f.message}}})();if(!s.success)throw new Error(s.error||"Failed to load student dashboard");b(s.data)}catch(s){console.error("Student dashboard error:",s),y("Unable to load student dashboard data.")}finally{v(!1)}})()},[]);const w={target:r,shield:m,flag:h,check:o,clock:c,lock:d,code:n},k=["https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=200&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=200&q=80"];return s.jsxs(s.Fragment,{children:[s.jsx(x,{}),s.jsxs("div",{className:"student-page",children:[s.jsxs("header",{className:"student-hero reveal-on-scroll",children:[s.jsxs("div",{children:[s.jsx("p",{className:"student-kicker",children:"Student Dashboard"}),s.jsx("h1",{children:"Build skills with real-world practice."}),s.jsx("p",{children:"Track your learning path, complete labs, and connect with mentors."})]}),s.jsxs(a,{variant:"primary",size:"large",children:[s.jsx(t,{size:18}),"Start Learning"]})]}),f&&s.jsx(l,{padding:"large",className:"student-card reveal-on-scroll",children:s.jsx("p",{style:{margin:0,color:"var(--text-secondary)"},children:f})}),g?s.jsx("div",{className:"student-grid",children:[1,2,3].map(e=>s.jsxs(l,{padding:"large",className:"student-card",children:[s.jsx(p,{className:"skeleton-line",style:{width:"40%"}}),s.jsx(p,{className:"skeleton-line",style:{width:"80%",marginTop:"0.75rem"}}),s.jsx(p,{className:"skeleton-line",style:{width:"60%",marginTop:"0.75rem"}})]},e))}):s.jsxs("div",{className:"student-grid",children:[s.jsxs(l,{padding:"large",className:"student-card reveal-on-scroll",children:[s.jsxs("div",{className:"student-card-header",children:[s.jsx(i,{size:20}),s.jsx("h3",{children:"Learning Path"})]}),s.jsx("div",{className:"student-path",children:N.learningPath.map(e=>s.jsxs("div",{className:"path-item",children:[s.jsxs("div",{className:"path-info",children:[s.jsx("span",{children:e.title}),s.jsx("span",{className:`path-status ${e.status}`,children:"done"===e.status?"Completed":"in-progress"===e.status?"In Progress":"Next Up"})]}),s.jsx("div",{className:"path-bar",children:s.jsx("div",{style:{width:`${e.progress}%`}})})]},e.id))})]}),s.jsxs(l,{padding:"large",className:"student-card reveal-on-scroll",children:[s.jsxs("div",{className:"student-card-header",children:[s.jsx(r,{size:20}),s.jsx("h3",{children:"Practice Labs"})]}),s.jsx("div",{className:"student-labs",children:N.challenges.map(e=>{const t=w[e.icon]||r;return s.jsxs("div",{className:"lab-item",children:[s.jsx("div",{className:"lab-icon",children:s.jsx(t,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{children:e.title}),s.jsxs("span",{children:[e.level," Â· ",e.time]})]}),s.jsx(a,{variant:"ghost",size:"small",children:"Launch"})]},e.id)})})]}),s.jsxs(l,{padding:"large",className:"student-card reveal-on-scroll",children:[s.jsxs("div",{className:"student-card-header",children:[s.jsx(j,{size:20}),s.jsx("h3",{children:"Mentor Support"})]}),s.jsx("div",{className:"mentor-list",children:N.mentors.map((e,a)=>s.jsxs("div",{className:"mentor-row",children:[s.jsxs("div",{className:"mentor-avatar",children:[s.jsx("img",{src:k[a%k.length],alt:e.name,loading:"lazy",onError:s=>{s.currentTarget.style.opacity="0"}}),s.jsx("div",{className:"mentor-fallback","aria-hidden":"true"})]}),s.jsxs("div",{children:[s.jsx("h4",{children:e.name}),s.jsx("span",{children:e.focus})]}),s.jsx("span",{className:"mentor-status "+("Available"===e.status?"online":"busy"),children:e.status})]},e.id))}),s.jsx(a,{variant:"secondary",size:"small",children:"Book a Session"})]})]}),s.jsx("section",{className:"student-bottom reveal-on-scroll",children:s.jsxs(l,{padding:"large",className:"student-card",children:[s.jsxs("div",{className:"student-card-header",children:[s.jsx(m,{size:20}),s.jsx("h3",{children:"Progress Snapshot"})]}),s.jsx("div",{className:"snapshot-grid",children:g?[1,2,3,4].map(e=>s.jsx("div",{className:"snapshot-item",children:s.jsx(p,{className:"skeleton-line",style:{width:"50%"}})},e)):N.snapshot.map(e=>{const a=w[e.icon]||o;return s.jsxs("div",{className:"snapshot-item",children:[s.jsx(a,{size:18}),s.jsxs("div",{children:[s.jsx("h4",{children:e.value}),s.jsx("span",{children:e.label})]})]},e.id)})})]})})]})]})};export{g as default};
