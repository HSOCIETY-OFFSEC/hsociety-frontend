/**
 * Pentester service
 */
import { API_ENDPOINTS, buildEndpoint } from '../../config/api.config';
import { apiClient } from '../../shared/services/api.client';

export const getAssignedPentests = async () => {
  const response = await apiClient.get(API_ENDPOINTS.PENTEST.LIST);
  if (response.success) {
    return { success: true, data: response.data || [] };
  }
  return { success: false, error: response.error || 'Failed to load pentests' };
};

export const updatePentest = async (pentestId, updates) => {
  const endpoint = buildEndpoint(API_ENDPOINTS.PENTEST.UPDATE, { id: pentestId });
  const response = await apiClient.put(endpoint, updates);
  if (response.success) {
    return { success: true, data: response.data };
  }
  return { success: false, error: response.error || 'Failed to update pentest' };
};

export default {
  getAssignedPentests,
  updatePentest,
};
